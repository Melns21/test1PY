#!/usr/bin/env python3
# coding=<utf8>
from random import seed
from random import randint  


#Вместо Ё была поставлена буква Х, по смыслу текста именно она должна была использоваться
CodeTbl = { "а" : '000010', 'б': '000111', 'в': '100011', 'г': '111001', 'д' : '100100', 'е': '011010', 'х': '011111', 'ж':'101000', 'з': '010001', 'и': '000011', 'й': '101101', 
            'к' : '011011', 'л' : '110111', 'м' : '100000', 'н': '110000', 'о' : '011001', 'п' : '101110', 'р': '000100', 'с': '110010', 'т':'110101', 'у' : '100001', 'ф': '000000',
            'х' : '011111', 'ц' : '111110', 'ч': '100110', 'ш' : '111000', 'щ':'101111', 'ъ' : '111101', 'ы': '001101', 'ь': '110001', 'э' : '101001', 'ю': '010011', 'я' : '111010',
            '.': '111111', ',': '101010', ' ' : '100010', '!': '101011', ';': '111100'
}

#В закодированном тексте есть лишние 01 что добавляет в текст "Щ" и "Й"
EncodedText = "0010111100101101100100110111111010100010100011000010110010101010100010100100100001111000000011100010100000011001011010101101100010\
1111100000100001000000111111100011011010101000100110110001000000101100100000101000110000111111100011011010101000101001001101111110101000101000110\
0001011001010001001100110010011000000001101111110001010001100010001101010000001101011000010001010000000001111000010000110001111100000001101111110\
0010110000011010000111001101110111000011111110001101101010100010100011100010100110000010110010001101100010100100011001110010100001111001011001100\
0111000100100010110011101110110011101010011010111111010101000101011100110011001001000101110000110101011100110011101011000101100101101010000100001\
0000001111000000110110001000011101100111011111010111011100001110001101100110110110101010001000010010000101101101100101001110001010001101101000010\
0110000011001101101100010111010100010101110000011110010000010110111111100100010101110000100000011100000000011110101011010100010101000100010100011\
0011011000101000000110011011011000101101010001001000011001001000100000111110010001000000111000110011011011011010111000101100000000111001101100010\
0001101111110001011000001101010001011010100010001101000011110000111101010001010111001100101111110001100001011011110101010001011001010011000001011\
0010110101110111000011100011100010100001101000100010111010100010110000000010100100011010101000100100011001101101100010110010110111000010100100011\
0110110011011011010101000101001101101010110011000101001000110101000110000101000101100101000101101010001000110101011100110101101010110011000001000\
1011011101001100011110001100001110001010111001100111001010000001100111010100010000001111010110101010001010000001100110100001101011010110001000011\
1001101110101110001101010100010100001011011000100000010100100011011011001101101100010110000000010100010101110011010110010110000000011100010111001\
000100011010111000110000001101011010100010100000011001000011111111"

#---------------------------------------------------------------------
#
#---------------------------------------------------------------------
def decode(encoded, code_tbl):
    decoded = ''
    i = 0

    while i < len(encoded):
        for length in range(1, 7):
            if i + length > len(encoded):
                continue
            
            current_code = encoded[i:i + length]
            
            if current_code in code_tbl.values():
                for key, value in code_tbl.items():
                    if value == current_code:
                        decoded += key
                        break
                i += length
                break
        else:
            i += 1
            
    return decoded
      

#---------------------------------------------------------------------
#
#---------------------------------------------------------------------
if __name__ == "__main__":
  #Добавляет 0.1 - по итогу лишние буквы в тексте, не знаю нужно ли это вообще - временно закомментировал 
  # seed(1)
  # v0 = ''
  # v1 = ''
  # for i in range(randint(5,20)):
  #   v0 = v0 + str(randint(0,1))
  #   v1 = v1 + str(randint(0,1))

  
  # EncodedText = v0 + EncodedText + v1
  
  #----------------------------------
  text_decoded = decode(EncodedText, CodeTbl)
  print(f"Расшифрованное сообщение: {text_decoded}")
   


